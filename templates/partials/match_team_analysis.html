<!-- Team Layout Controls -->
<div class="team-layout-controls">
    <button class="team-layout-btn active" data-layout="classic" data-team="{{ prefix }}">Classic</button>
    <button class="team-layout-btn" data-layout="vertical" data-team="{{ prefix }}">Vertical</button>
    <button class="team-layout-btn" data-layout="heatmap-focus" data-team="{{ prefix }}">Heatmap Focus</button>
    <button class="team-layout-btn" data-layout="stats-focus" data-team="{{ prefix }}">Stats Focus</button>
    <button class="team-layout-btn" data-layout="balanced" data-team="{{ prefix }}">Balanced</button>
    <button class="team-layout-btn" data-layout="wide-stats" data-team="{{ prefix }}">Wide Stats</button>
</div>

<!-- Configurable Team Grid Container -->
<div class="team-analysis-grid layout-classic" id="{{ prefix }}-analysis-grid">
    <!-- Stats Block -->
    <div class="graph-container team-stats">
        <div class="graph-inner">
            <div class="stats-header">
                <h4>Team Stats</h4>
            </div>
            <div id="{{ prefix }}-stats-container" class="stats-table-container">
                <div class="stats-loading">Loading stats...</div>
            </div>
        </div>
    </div>
    
    <!-- Heatmap Block -->
    <div class="graph-container team-heatmap">
        <div class="graph-inner vertical">
            <div class="heatmap-header">
                <h4>Team Heatmap</h4>
            </div>
            <!-- Controls -->
            <div class="heatmap-controls-bar" data-team="{{ prefix }}">
                <div class="control-group half-controls">
                    <button class="toggle-btn active" data-half="full">Full Match</button>
                    <button class="toggle-btn" data-half="first">1st Half</button>
                    <button class="toggle-btn" data-half="second">2nd Half</button>
                </div>
                <div class="control-separator"></div>
                <div class="control-group phase-controls">
                    <button class="phase-btn active" data-phase="possession">Possession</button>
                    <button class="phase-btn" data-phase="attack">Attack</button>
                    <button class="phase-btn" data-phase="defense">Defense</button>
                </div>
            </div>

            <!-- Plot area -->
            <div id="{{ plot_container_id }}" class="plotly-wrapper heatmap-plot"></div>
        </div>
    </div>
</div>
