<!-- Team Layout Controls -->
<div class="team-layout-controls">
    <button class="team-layout-btn active" data-layout="classic" data-team="{{ prefix }}">Classic</button>
    <button class="team-layout-btn" data-layout="vertical" data-team="{{ prefix }}">Vertical</button>
    <button class="team-layout-btn" data-layout="heatmap-focus" data-team="{{ prefix }}">Heatmap Focus</button>
    <button class="team-layout-btn" data-layout="stats-focus" data-team="{{ prefix }}">Stats Focus</button>
    <button class="team-layout-btn" data-layout="balanced" data-team="{{ prefix }}">Balanced</button>
    <button class="team-layout-btn" data-layout="wide-stats" data-team="{{ prefix }}">Wide Stats</button>
</div>

<!-- Configurable Team Grid Container -->
<div class="team-analysis-grid layout-classic" id="{{ prefix }}-analysis-grid">
    <!-- Stats Block -->
    <div class="graph-container team-stats">
        <div class="graph-inner">
            <div class="stats-header">
                <h4>Team Stats</h4>
            </div>
            <div id="{{ prefix }}-stats-container" class="stats-table-container">
                <div class="stats-loading">Loading stats...</div>
            </div>
        </div>
    </div>
    
    <!-- Heatmap Block -->
    <div class="graph-container team-heatmap">
        <div class="graph-inner vertical">
            <div class="heatmap-header">
                <h4>Team Heatmap</h4>
            </div>
            <!-- Controls -->
            <div class="heatmap-controls-option3" data-team="{{ prefix }}">
                <div class="dropdown-group">
                    <span class="dropdown-label">Half:</span>
                    <select class="control-dropdown half-dropdown" data-half>
                        <option value="full" selected>Full Match</option>
                        <option value="first">1st Half</option>
                        <option value="second">2nd Half</option>
                    </select>
                </div>
                <div class="dropdown-group">
                    <span class="dropdown-label">Phase:</span>
                    <select class="control-dropdown phase-dropdown" data-phase>
                        <option value="possession" selected>Possession</option>
                        <option value="attack">Attack</option>
                        <option value="defense">Defense</option>
                    </select>
                </div>
                <div class="quick-actions">
                    <button class="quick-btn" data-preset="full-possession" title="Full Match Possession">âš½</button>
                    <button class="quick-btn" data-preset="full-attack" title="Full Match Attack">âš¡</button>
                    <button class="quick-btn" data-preset="full-defense" title="Full Match Defense">ðŸ›¡</button>
                </div>
            </div>

            <!-- Plot area -->
            <div id="{{ plot_container_id }}" class="plotly-wrapper heatmap-plot"></div>
        </div>
    </div>
</div>
